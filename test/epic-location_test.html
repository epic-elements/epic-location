<!doctype html>

<html>

	<head>
		<title>epic-location test</title>
		<meta charset="utf-8">
		<meta name="viewport"
			content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
		<script src="../../webcomponentsjs/webcomponents-lite.js"></script>
		<script src="../../web-component-tester/browser.js"></script>

		<link rel="import"
			href="../epic-location.es6.html">
		<link rel="import"
			href="../../epic-observable/rx.html">
	</head>

	<body>

		<test-fixture id="basic">
			<template>
				<epic-location id="epicLocation"></epic-location>
			</template>
		</test-fixture>

		<script>
			suite('<epic-location>', function() {
				var temp;
				var element;
				var scheduler;
				setup(function() {
					temp = fixture('basic');
					element = document.querySelector('#basic #epicLocation');
					scheduler = new Rx.TestScheduler(function(actual, expected) {
						expect(actual).to.deep.equal(expected);
					});
				});
				test('instantiating the element works', function() {
					expect(element.is).to.be.equal('epic-location');
				});
				test('instantiating the element works', function() {
					expect(element.is).to.be.equal('epic-location');
				});
				test('ignorePopstate is false by default', function() {
					expect(element.ignorePopstate).to.be.false;
				});
				test('ignoreHash is false by default', function() {
					expect(element.ignoreHash).to.be.false;
				});
				test('ignoreClicks is false by default', function() {
					expect(element.ignoreClicks).to.be.false;
				});

			});
			// 	test('lifecycle$ property exists', function() {
			// 		expect(element.lifecycle$).to.be.an.instanceof(Rx.ReplaySubject);
			// 	});
			// 	test('lifecycle$ should emit null as first value', function() {
			// 		var source$ = Rx.Observable
			// 			.zip(element.lifecycle$,
			// 				Rx.Observable.timer(50, 20, scheduler),
			// 				function(item, i) {
			// 					return item;
			// 				})
			// 			.do(v => console.log(v))
			// 		scheduler
			// 			.expectObservable(source$.take(2))
			// 			.toBe('-----r-(a|)', {
			// 				r: 'ready',
			// 				a: 'attached'
			// 			});
			// 		scheduler.flush();
			// 	});
			// 	test('readyLifecycle$ property exists', function() {
			// 		expect(element.readyLifecycle$).to.be.an.instanceof(Rx.AnonymousSubject);
			// 	});
			// 	test('readyLifecycle$ emits only `ready` values', function() {
			// 		var source$ = element.readyLifecycle$;
			// 		console.log(source$);
			// 		var timer$ = Rx.Observable
			// 			.zip(source$,
			// 				Rx.Observable.timer(50, 20, scheduler),
			// 				function(item, i) {
			// 					return item;
			// 				})
			// 			.do(v => console.log(v))
			// 		scheduler
			// 			.expectObservable(timer$)
			// 			.toBe('-----r--', {
			// 				r: 'ready'
			// 			});
			// 		scheduler.flush();
			// 	});
			// 	test('attachedLifecycle$ property exists', function() {
			// 		expect(element.attachedLifecycle$).to.be.an.instanceof(Rx.AnonymousSubject);
			// 	});
			// 	test('attachedLifecycle$ emits only `attached` values', function() {
			// 		var source$ = element.attachedLifecycle$;
			// 		console.log(source$);
			// 		var timer$ = Rx.Observable
			// 			.zip(source$,
			// 				Rx.Observable.timer(50, 20, scheduler),
			// 				function(item, i) {
			// 					return item;
			// 				})
			// 			.do(v => console.log(v))
			// 		scheduler
			// 			.expectObservable(timer$)
			// 			.toBe('-----a--', {
			// 				a: 'attached'
			// 			});
			// 		scheduler.flush();
			// 	});
			// });
		</script>
	</body>

</html>
